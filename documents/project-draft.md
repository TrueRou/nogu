# nogu-project

这里的内容是早期想法的一个草稿，已经严重过时，这里仅做归档处理，推荐阅读README.md

这里其实是早些时候胡思乱想的产物，还不够成熟，README.md是这里内容的总结和改正

## 一、概述

### 介绍

以队伍为单位的osu!练图平台，提供管理图池、数据采集、数据分析、提供建议等功能。旨在减轻队长和队员数据分析的负担，使比赛上人更灵活

### 注意事项

鉴于国内屙屎的低迷，需要事先考虑本地化的问题

练图平台不必保证成绩的合法性，也没有必要计算PP或者保留osu文件

最好能自动剔除无效成绩

## 二、图池

#### 图池页面

图池页面会展示所有公开的图池，玩家可以直接浏览图池内容，并且可以直接基于图池创建队伍

#### 创建图池

无论是比赛主办方还是队伍的队长队员，均可以创建图池，创建图池需要提供下面几个参数

- 图池标题：给图池赋一个名字, 需要重复性检查(同时接入之前阿日的name-checker)

- 图池可见性: 公开 / 私有

- 谱面(限制最多100个图): 支持多种导入方式(手动输入BID, 从包含BID的图片导入, 从收藏导入)

导入谱面时立即将BID与数据库中的map进行匹配并且补全该谱面的信息，如果数据库中缺少该谱面，玩家需要等待直至补全完成，之后方可创建图池

#### 图池可见性

标记公开的图池其他人也可以看见并使用, 会展示在图池页面中

标记私有的图池不会展现在图池页面中，如果图池的owner基于该图池创建队伍后，其他队员有权查看图池

#### 谱面

谱面需要包含匹配规则，提供NoMod, HD, HR, FM规则, 所有谱面默认都是NoMod

谱面还可以添加备注, 可以方便谱面创建者添加自己的想法

谱面批量导入后玩家需要进行确认，并且调整匹配规则，添加或删除有问题的谱面

从包含BID的图片导入涉及OCR，限制玩家一分钟内只能使用一次

从收藏导入需要限制收藏的文件大小，同时超出100个图不允许导入

#### 图池的修改

修改图池并不会影响已经基于图池创建的队伍，但是队伍可以选择是否要更新到最新的图池，也就是队伍可以选择是否同步upstream

## 三、队伍

#### 队伍页面

展示所有公开队伍，不展示数据分析页面

#### 创建队伍

玩家可以创建队伍，需要提供以下的参数

- 队伍标题: 无需重复性检查

- 图池: 可以选择一个公开图池，也可以创建新图池

- 队伍公开性: 孤独一人 / 公开 / 非公开(即使公开队伍也不能看到数据分析，但是能看到队员打图历史)

- 有效期: 超过有效期的队伍会自动标记为已实现

#### 图池

创建队伍时选择的图池会自动进入默认Stage, 队伍只能选择一个活跃Stage, 所有的数据分析基于Stage, 玩家可以在之后创建新的Stage并选择图池

每个Stage的谱面来源于图池，但不关联于图池，创建新的Stage时会创建一个新的图池副本, 当上游修改时，不影响Stage内的图，队长可以选择是否更新到上游

#### 队伍公开性

公开队伍在队伍页面中展示，私有和孤独一人队伍不展示

孤独一人队伍不支持邀请队员和监听mp, 也不支持创建练习私服, 只支持手动上传和程序上传的手段

#### 数据采集

玩家需要上传自己的成绩，以方便进行数据分析，一共提供下面几种上传方式

- 手动上传

- 程序上传

- 监听MP

- 私服上传

手动上传: 玩家需要手动填写自己游玩成绩的数据，玩家可以选填部分数据，也可以准确填写，部分填写时，空缺的部分将进行猜测，必填项为combo miss acc

程序上传: 我们提供上传成绩的接口，开发sync或者gosumemory插件来上传成绩, 上传时需要提供玩家ID

监听MP: 提供MP链接，多人游戏中队员的成绩会直接被采集

#### 队伍的已实现状态

当队伍达成目标后可以标记为已实现，此时无法向队伍中添加成绩和修改队伍的各项状态，仅能作为留念之用

标记为已实现状态的队伍也将无法登入队伍私服

队伍也可从已实现状态重新切换为活跃状态

#### 关于私服

提供以队伍为单位的私服，私服只提供上传成绩和查看排行榜的功能，游戏内排行榜可以看到某张图队员的表现(展现自己的所有成绩和队员的平均成绩), 当前Stage图池以外的成绩将不会被上传

#### 邀请队员加入队伍

队长可以创建邀请链接，将邀请链接发给队员可以邀请他们加入队伍，由于我们采用屙屎的OAuth，队长队员无需创建单独的账号即可参与练图

#### 队伍的分页

- 队伍概况: 提供队伍的一些基本的信息(公开时只有这页会公开展示)

- 队员管理: 邀请链接 删除队员

- 成绩管理: 上传成绩 查看某张图某个队员所有成绩 简单的数据展示

- 数据分析: 给出数据分析及预测，用图表的方式展示

- 队伍设置: 修改队伍的一些信息，是否活跃，队伍私服的配置
